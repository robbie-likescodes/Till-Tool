/* =============== Root / Theme Tokens =============== */
:root{
  --bg:#FAFAF9;
  --ink:#111827;
  --muted:#6B7280;
  --line:#E5E7EB;
  --card:#FFFFFF;

  --grad-a:#7C3AED;   /* violet */
  --grad-b:#06B6D4;   /* teal */

  /* Confidence palettes */
  --ok-bg:#EEF9F2;
  --ok-bd:#BFE5C8;
  --ok-tx:#065F46;

  --warn-bg:#FFF7E6;
  --warn-bd:#FFE3A3;
  --warn-tx:#7C4A03;

  /* NEW: miss (error) */
  --miss-bg:#FFEAEA;
  --miss-bd:#F3B4B4;
  --miss-tx:#7C1D1D;

  --radius:14px;
  --shadow:0 8px 24px rgba(124,58,237,.25);
}

/* Optional: automatic dark theme (respects system setting) */
@media (prefers-color-scheme: dark) {
  :root{
    --bg:#0B0F14;
    --ink:#F3F4F6;
    --muted:#A1A1AA;
    --line:#1F2937;
    --card:#0F172A;

    --ok-bg:#063A2F;
    --ok-bd:#0B5C45;
    --ok-tx:#C8F5E6;

    --warn-bg:#3C2E09;
    --warn-bd:#6A4B0B;
    --warn-tx:#FFE2A3;

    /* NEW: miss (error) dark */
    --miss-bg:#3B0E0E;
    --miss-bd:#5B1B1B;
    --miss-tx:#FFD2D2;
  }
}

/* =============== Base =============== */
*{box-sizing:border-box}
html,body{
  margin:0;
  height:100%;
  background:var(--bg);
  color:var(--ink);
  font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
img{max-width:100%;display:block}
a{color:inherit}
h1{font-size:1.35rem;margin:8px 0 10px}
h2{font-size:1.05rem;margin:2px 0 10px}

/* =============== Layout =============== */
.wrap{max-width:980px;margin:0 auto;padding:16px 16px 96px}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:14px;
  margin:12px 0;
}
.grid{display:grid;gap:12px}
.grid-2{grid-template-columns:1fr 1fr}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (min-width:720px){
  .grid-2-md{grid-template-columns:1fr 1fr}
  .grid-3-md{grid-template-columns:repeat(3,1fr)}
}

/* =============== Text & Helpers =============== */
.sub{color:var(--muted);margin-bottom:12px}
.muted{color:var(--muted)}
.hint{font-size:.84rem;color:var(--muted)}
.badge{
  font-size:.78rem;
  padding:3px 8px;
  border-radius:999px;
  border:1px solid var(--line);
  color:var(--muted);
}
.sect-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.divider{height:1px;background:var(--line);margin:10px 0}

/* =============== Form Controls =============== */
label{display:block;font-size:.92rem;margin:0 0 6px}
.field{
  display:flex;align-items:center;
  border:1px solid var(--line);
  border-radius:12px;
  padding:8px 10px;
  background:#fff;
  transition:border-color .15s ease, background-color .15s ease, box-shadow .15s ease;
}
input[type="text"],
input[type="number"],
input[type="time"],
input[type="date"]{
  border:0;outline:0;flex:1;font-size:1rem;background:transparent;color:inherit;
}
input::placeholder{color:#9CA3AF}
input[readonly]{background:#F7F7F7; cursor:not-allowed}

/* NEW: confidence coloring for Review mirrors */
.field.ok{
  border-color:var(--ok-bd);
  background:var(--ok-bg);
}
.field.ok input{ color:var(--ok-tx); }

.field.maybe{
  border-color:var(--warn-bd);
  background:var(--warn-bg);
}
.field.maybe input{ color:var(--warn-tx); }

.field.miss{
  border-color:var(--miss-bd);
  background:var(--miss-bg);
  box-shadow:0 0 0 2px color-mix(in oklab, var(--miss-bd) 35%, transparent);
}
.field.miss input{ color:var(--miss-tx); }

/* quantity stepper group */
.qt{display:flex;gap:6px;align-items:center}
.qt button{
  width:40px;height:40px;border-radius:10px;
  border:1px solid var(--line);background:#fff;color:var(--ink);
  font-size:18px;cursor:pointer;
}
.qt input{width:120px;text-align:right}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  padding:12px 16px;border-radius:999px;border:0;color:#fff;font-weight:600;cursor:pointer
}
.btn.tiny{font-size:.9rem;padding:8px 12px}
.btn-grad{background:linear-gradient(90deg,var(--grad-a),var(--grad-b));box-shadow:var(--shadow)}
.btn-ghost{background:#fff;color:var(--ink);border:1px solid var(--line)}
.btn:disabled{opacity:.6;cursor:not-allowed}

/* Chips */
.pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--line);background:#fff
}
.pill.ok{border-color:var(--ok-bd);background:var(--ok-bg);color:var(--ok-tx)}
.pill.warn{border-color:var(--warn-bd);background:var(--warn-bg);color:var(--warn-tx)}

/* Slider (ombr√© track) */
.slider{
  appearance:none;width:100%;height:6px;border-radius:999px;
  background:linear-gradient(90deg,var(--grad-a),var(--grad-b));
  outline:none
}
.slider::-webkit-slider-thumb{
  appearance:none;width:26px;height:26px;border-radius:50%;
  background:#fff;border:2px solid var(--line);box-shadow:0 4px 10px rgba(0,0,0,.15)
}
.slider::-moz-range-thumb{
  width:26px;height:26px;border-radius:50%;
  background:#fff;border:2px solid var(--line);box-shadow:0 4px 10px rgba(0,0,0,.15)
}

/* Sticky submit bar */
.sticky{
  position:fixed;left:0;right:0;bottom:0;
  background:rgba(255,255,255,.9);
  backdrop-filter:blur(6px);
  border-top:1px solid var(--line);
  padding:10px;z-index:1000
}
.sticky .bar{
  max-width:980px;margin:0 auto;
  display:flex;gap:10px;align-items:center;justify-content:space-between
}

/* Section visibility (AM/PM) */
#amSection,#pmSection{transition:opacity .2s ease}

/* =============== Accessibility & Motion =============== */
:focus-visible{
  outline:3px solid color-mix(in oklab, var(--grad-b) 60%, white);
  outline-offset:2px;border-radius:12px
}
@media (prefers-reduced-motion: reduce) {
  *{animation:none !important;transition:none !important}
  .sticky{backdrop-filter:none}
}

/* =============== Utility (optional) =============== */
.hide{display:none !important}
.center{display:flex;align-items:center;justify-content:center}
.w-100{width:100%}
.mt-8{margin-top:8px}
.mt-12{margin-top:12px}
.mt-16{margin-top:16px}
.p-0{padding:0}
